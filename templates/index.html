<!DOCTYPE html>
    <head>
        <title>Tank It</title>
       <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
        <style>
            body {
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* pushes buttons left, center, right */
            align-items: center; /* vertical centering */
            height: 50vh; /* full height of viewport */
            margin: 0;
            padding: 0 20px; /* some padding on left and right */
            }
            .buttons {
                display: flex;
                gap: 50px;
                margin-top: 30px;
            }
            button {
            padding: 15px 30px;
            font-size: 18px;
            cursor: pointer;
            }
        </style>
    </head>
    <body>
        <h1 style="text-align:center; font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">CONTROLS</h1>
        <div class="buttons">
            <button onmousedown="startMove('left')" onmouseup="stopMove()">Turn Left</button>
            <button onmousedown="fire()" onmouseup="stopFire()">FIRE</button>
            <button onmousedown="startMove('right')" onmouseup="stopMove()">Turn Right</button>

        </div>

        <script>
            let interval;
            let fire_interval

            function startMove(dir) {
                interval = setInterval(() => {
                    console.log("Sending command:", dir);
                    fetch(`/move?dir=${dir}`);
                }, 100);  // send command every 100ms
            }

            function stopMove() {
                clearInterval(interval);
            }

            function fire(){
                fire_interval = setInterval(() => {
                    console.log("Sending command:", "FIRING");
                    fetch(`/fire?`);
                }, 100);
            }

            function stopFire(){
                clearInterval(fire_interval);
            }

        </script>
    </body>
</html>